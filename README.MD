# ğŸ›¡ï¸ GuardiÃ£o de Termos & Privacidade (IA)

ExtensÃ£o para navegador que **analisa automaticamente polÃ­ticas de privacidade e termos de uso** das pÃ¡ginas que vocÃª acessa, destacando riscos e prÃ¡ticas de coleta/compartilhamento de dados pessoais.  
O projeto utiliza **IA (Groq LLM)** para interpretar o texto e gerar um resumo claro e estruturado.

---

## ğŸš€ Funcionalidades

- âœ… Detecta automaticamente pÃ¡ginas de **termos de uso e polÃ­ticas de privacidade**.  
- âœ… Analisa o conteÃºdo usando IA e retorna:  
  - Resumo geral da polÃ­tica.  
  - Principais riscos para a privacidade.  
  - Locais onde pode haver **venda ou repasse de dados**.  
  - Percentual estimado de uso intensivo de dados pessoais.  
- âœ… Interface simples via **popup** da extensÃ£o.  
- âœ… API local em **Node.js + Express** para processar as anÃ¡lises.  
- âœ… Uso do modelo **LLaMA (Groq API)** para interpretaÃ§Ã£o.  
- âœ… Novo: **HistÃ³rico por domÃ­nio** (Ãºltimas 10 anÃ¡lises).  
- âœ… Novo: **Copiar JSON** e **Baixar JSON** do resultado.  
- âœ… Novo: **Tema escuro** com alternÃ¢ncia e persistÃªncia.  
- âœ… Novo: **URL do backend configurÃ¡vel** no popup (persistido).

---

## ğŸ› ï¸ Tecnologias Utilizadas

- **Frontend (ExtensÃ£o Chrome)**  
  - `manifest.json` (Manifest V3)  
  - Interface (`popup.html`, `popup.js`, `style.css`)  

- **Backend (Proxy/Servidor)**  
  - [Node.js](https://nodejs.org/) + [Express](https://expressjs.com/)  
  - [dotenv](https://www.npmjs.com/package/dotenv)  
  - [openai (SDK Groq compatÃ­vel)](https://www.npmjs.com/package/openai)  
  - [node-fetch](https://www.npmjs.com/package/node-fetch)  

---

## ğŸ“‚ Estrutura do Projeto

Analisador-de-pol-ticas/
- |
- â”œâ”€â”€ ğŸ“‚ extensao/
- â”‚ â”œâ”€â”€ ğŸ“„ manifest.json
- â”‚ â”œâ”€â”€ ğŸ“„ popup.html
- â”‚ â”œâ”€â”€ ğŸ“„ popup.js
- â”‚ â””â”€â”€ ğŸ“„ style.css
- â”‚
- â”œâ”€â”€ ğŸ“‚ node_modules/ 
- â”‚
- â”œâ”€â”€ ğŸ“„ .env # VariÃ¡veis de ambiente
- â”œâ”€â”€ ğŸ“„ .gitignore 
- â”œâ”€â”€ ğŸ“„ package-lock.json 
- â”œâ”€â”€ ğŸ“„ package.json 
- â”œâ”€â”€ ğŸ“„ README.md 
- â””â”€â”€ ğŸ“„ server.js 
- â”‚

---

## Crie um arquivo .env dentro da pasta guardiao-proxy com o seguinte conteÃºdo:

- GROQ_API_KEY=coloque_sua_chave_aqui
- GROQ_MODEL=llama-3.3-70b-versatile

---

## ğŸš€ Como rodar o projeto

1. Instale as dependÃªncias:
   ```bash
   npm install

---

## ğŸŒ Instalar a extensÃ£o no Chrome
- Abra o navegador Chrome.
- VÃ¡ em chrome://extensions/.
- Ative o Modo de desenvolvedor.
- Clique em Carregar sem compactaÃ§Ã£o.
- Selecione a pasta extensao/.
- A extensÃ£o estarÃ¡ pronta para uso.

---

## âš™ï¸ ConfiguraÃ§Ãµes no popup

- **Backend URL**: defina o endereÃ§o do servidor (padrÃ£o: `http://127.0.0.1:3000`).  
  Valores sÃ£o salvos em `chrome.storage.sync` e usados ao enviar a anÃ¡lise.
- **Tema**: alternÃ¢ncia entre claro/escuro, com persistÃªncia.

---

## Inicie o servidor:

- node server.js

---

## â–¶ï¸ Como executar a extensÃ£o (passo a passo)

1. PrÃ©-requisitos
   - Node 18+ instalado.
   - Navegador Chrome (ou Chromium) atualizado.

2. Configurar variÃ¡veis de ambiente
   - Crie um arquivo `.env` na raiz do projeto com:
     ```env
     GROQ_API_KEY=coloque_sua_chave_aqui
     GROQ_MODEL=llama-3.1-8b-instant
     ```

3. Instalar dependÃªncias e iniciar backend
   - Instale: `npm install`
   - Rode: `node server.js`
   - Verifique no console: "Servidor rodando em http://localhost:3000"

4. Carregar a extensÃ£o no Chrome
   - Abra `chrome://extensions`.
   - Ative o Modo de desenvolvedor.
   - Clique em "Carregar sem compactaÃ§Ã£o".
   - Selecione a pasta `extensao/`.

5. Configurar o backend no popup
   - Abra o popup da extensÃ£o.
   - Clique em "Config".
   - Em "Backend URL", use `http://127.0.0.1:3000` (ou `http://localhost:3000`).
   - Clique em "Salvar".

6. Executar uma anÃ¡lise
   - Acesse uma pÃ¡gina com Termos/PolÃ­tica de Privacidade.
   - Abra o popup e clique em "Analisar".
   - ApÃ³s o resultado:
     - Use "Copiar" para copiar o JSON.
     - Use "Baixar" para salvar `analise.json`.
     - Veja o "HistÃ³rico" para resultados anteriores do mesmo domÃ­nio.

7. Dicas
   - Se a pÃ¡gina for muito longa, pode haver truncamento controlado pelo servidor para respeitar limites de tokens.
   - Se o popup indicar erro de conexÃ£o, confirme se o backend estÃ¡ ativo e se a URL estÃ¡ correta no popup.

---

## O QUE VAI SER APRESENTADO

- ğŸ“„ Dados coletados
- ğŸ”’ Dados sensÃ­veis
- ğŸ“¡ Rastreamento do usuÃ¡rio
- ğŸ” Compartilhamento de dados
- âš ï¸ NÃ­vel de intrusividade (nota e classificaÃ§Ã£o)

---

âš ï¸ Ponto de AtenÃ§Ã£o

- O analisador possui uma limitaÃ§Ã£o relacionada ao uso da API do GROG.
  - Atente-se aos seguintes pontos:

    - Limite de Tokens: Ao utilizar uma API Key gratuita, hÃ¡ um limite diÃ¡rio de tokens disponÃ­veis. Caso esse limite seja ultrapassado, o terminal exibirÃ¡ uma mensagem de erro, informando que o nÃºmero mÃ¡ximo de tokens foi excedido.

    - SoluÃ§Ã£o 1 â€” API Paga: Para ampliar o limite diÃ¡rio de tokens e permitir a anÃ¡lise de textos maiores sem interrupÃ§Ãµes, recomenda-se utilizar uma API Key paga.

    - SoluÃ§Ã£o 2 â€” Ajuste de CÃ³digo: Outra alternativa Ã© reduzir o tamanho mÃ¡ximo de caracteres por bloco diretamente no cÃ³digo. Dessa forma, o consumo de tokens por requisiÃ§Ã£o serÃ¡ menor, diminuindo as chances de atingir o limite diÃ¡rio.

---

## O que foi implementado recentemente

- HistÃ³rico por domÃ­nio (atÃ© 10 entradas por host) usando `chrome.storage.local`.
- BotÃµes de **Copiar** (clipboard) e **Baixar** (arquivo `analise.json`).
- Tema escuro e persistÃªncia de preferÃªncias em `chrome.storage.sync`.
- Backend configurÃ¡vel diretamente no popup.

---

## Como funciona
- O content script coleta o texto da pÃ¡gina.
- O texto Ã© enviado ao servidor Node.js (`/analisar`).
- O servidor chama a API Groq para anÃ¡lise.
- O resultado (JSON estruturado) Ã© exibido no popup da extensÃ£o.

---

## ğŸ–¼ï¸ Capturas de tela (exemplos)

Coloque imagens na pasta `docs/` (crie se nÃ£o existir) e referencie-as no README. Exemplos:

```md
![Popup claro](docs/popup-claro.png)
![Popup escuro](docs/popup-escuro.png)
![ConfiguraÃ§Ãµes](docs/popup-config.png)
```

Para gravar um GIF curto, use qualquer gravador (ex.: ShareX) e salve em `docs/fluxo-analise.gif`:

```md
![Fluxo de anÃ¡lise](docs/fluxo-analise.gif)
```
